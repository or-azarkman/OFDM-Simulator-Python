# OFDM System Overview

## Overview
Orthogonal Frequency Division Multiplexing (OFDM) is a multi-carrier modulation technique widely used in modern wireless communication systems such as Wi-Fi, LTE, and 5G.

OFDM divides the available bandwidth into multiple orthogonal subcarriers, each modulated with a low-rate data stream. This structure significantly reduces inter-symbol interference (ISI) caused by multipath propagation and enables simple frequency-domain equalization at the receiver.

All signals in this project are modeled at the **complex baseband level**, focusing on PHY-layer signal processing rather than RF front-end implementation.

This document provides an overview of the OFDM system, including **system architecture, signal model, simulation parameters, and future extensions**.

---

## System Block Diagram

![OFDM Block Diagram](images/ofdm_block_diagram.png)

*Note: Colors indicate system sections: Blue = Transmitter (TX), Gray = Channel, Green = Receiver (RX).*

---

## Mathematical Foundations

### OFDM Time-Domain Symbol Generation

Each OFDM symbol is generated by applying an **Inverse FFT (IFFT)** to a block of modulated symbols:

$$
x[n] = \frac{1}{N} \sum_{k=0}^{N-1} X_k \cdot e^{j 2 \pi k n / N}, \quad n = 0, 1, \dots, N-1
$$

Where:  
- \(X_k\): modulated symbol on subcarrier \(k\) (e.g., QPSK or 16-QAM)  
- \(N\): FFT size / number of subcarriers

> **Explanation:** The IFFT converts frequency-domain symbols \(X_k\) into a time-domain OFDM waveform \(x[n]\). Orthogonality between subcarriers is maintained, enabling simple frequency-domain equalization at the receiver. :contentReference[oaicite:1]{index=1}

### Cyclic Prefix (CP) Construction

To mitigate ISI caused by multipath channels, a cyclic prefix of length \(N_{CP}\) is appended:

$$
x_{CP}[n] = x[N - N_{CP} + n], \quad n = 0, 1, \dots, N_{CP} - 1
$$

The transmitted OFDM symbol then becomes:

$$
x_{tx}[n] = [x_{CP}[0], x_{CP}[1], \dots, x_{CP}[N_{CP}-1], x[0], x[1], \dots, x[N-1]]
$$

> **Explanation:** The cyclic prefix replicates the last \(N_{CP}\) samples of the OFDM symbol at the beginning, preventing delayed multipath copies from interfering with the next symbol.

### QPSK / 16-QAM Modulation Mapping

For QPSK, each pair of bits \((b_0, b_1)\) maps to a complex symbol:

$$
s = \frac{1}{\sqrt{2}} \left( (2b_0 - 1) + j(2b_1 - 1) \right)
$$

For 16-QAM, groups of 4 bits \((b_0, b_1, b_2, b_3)\) map to a constellation point:

$$
s = \frac{1}{\sqrt{10}} \left[ (2b_0 + b_1 - 1.5) + j(2b_2 + b_3 - 1.5) \right]
$$

> **Note:** Normalization ensures unit average power across symbols.

### Future Mathematical Extensions
- **Channel Model:**  
  $$y[n] = x_{tx}[n]*h[n] + w[n],$$  
  where \(h[n]\) is the channel impulse response and \(w[n]\) is AWGN noise.
- **Synchronization / CFO Compensation** — modeling carrier frequency offset and timing misalignment.
- **Pilots and Channel Estimation** — embedding known symbols to estimate channel response.
- **Equalization:** Frequency-domain equalization using  
  $$\hat{X}_k = \frac{Y_k}{H_k},$$  
  where \(H_k\) is the channel frequency response.

---

## Simulation Parameters

| Parameter                | Value         | Description / Notes                               |
|--------------------------|--------------|--------------------------------------------------|
| FFT size                 | 64           | Number of orthogonal subcarriers                 |
| Cyclic Prefix length     | 16           | 25% of FFT size, typical for OFDM systems        |
| Modulation Scheme        | QPSK / 16-QAM | Configurable per simulation                      |
| Number of OFDM symbols   | 1000         | Provides sufficient BER accuracy                 |
| SNR range                | 0–20 dB      | Used for BER vs SNR performance evaluation       |

**Parameter Rationale:**  
Selected FFT and CP lengths are standard in practical OFDM systems, balancing spectral efficiency with robustness to ISI. All parameters are configurable for experimentation.

---

## Simulation Scope

### Included:
- Random bitstream generation
- Digital modulation (QPSK / 16-QAM)
- OFDM modulation and demodulation (IFFT / FFT)
- Cyclic Prefix insertion and removal
- AWGN channel modeling
- BER computation
- Constellation and performance visualization

### Not Included (Stage 1):
- RF front-end modeling or SDR integration
- Synchronization algorithms (CFO, timing offset)
- Channel coding (FEC)
- Multipath fading channels (planned future extension)

---

## Key Outputs
- Time-domain OFDM waveforms  
- Transmit and receive constellation diagrams  
- BER vs SNR performance curves  

---

## Future Extensions
- Frequency-selective multipath channels  
- Channel estimation and equalization  
- CFO and timing offset modeling  
- Higher-order modulation schemes  
- Optional SDR-based real-time implementation  

---

## Summary
This document establishes the **system-level architecture, mathematical foundation, and simulation boundaries** of the OFDM PHY-layer project. It serves as a technical reference for Python module implementation and simulation experiments.
